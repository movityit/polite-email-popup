var t,e,o=Object.prototype,a=Function.prototype.toString,i=o.hasOwnProperty,n=a.call(Object),s=o.toString,r=(t=Object.getPrototypeOf,e=Object,function(o){return t(e(o))});function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}function m(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(t){if("string"==typeof t)return l(t,void 0);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?l(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function c(){this.callbacksLookup={}}c.prototype={emit:function(t,e){for(var o,a=this.callbacksLookup["*"]||[],i=m(this.callbacksLookup[t]||[]);!(o=i()).done;)(0,o.value)({name:t,value:e});for(var n,s=m(a);!(n=s()).done;)(0,n.value)({name:t,value:e})},on:function(t,e){for(var o,a=m(Array.isArray(t)?t:[t]);!(o=a()).done;){var i=o.value;this.callbacksLookup[i]||(this.callbacksLookup[i]=[]),this.callbacksLookup[i].push(e)}}};var d=new c;function u(t,e){void 0===e&&(e={}),t=t||"tigerlily";var o=e.defaults,l=void 0===o?{}:o,m=JSON.parse(localStorage.getItem(t)||"{}",g);return m=Object.assign(l,m),new Proxy(m,function e(o){return{get:function(t,a){return p(t[a])?new Proxy(t[a],e(o)):t[a]},set:function(e,l,m){e[l]=m,localStorage.setItem(t,JSON.stringify(o,f));var c=e[l],u=p(c)?JSON.parse(JSON.stringify(c,f),g):c,b=p(m)?JSON.parse(JSON.stringify(m,f),g):m,_=function(t,e){if(t===e)return"";var o="";return function t(e,o,l){l=l||"",Array.isArray(e)?function(e,o,a){e.forEach((e,i,n)=>{const s=`${a}[${i}]`;o.call(n,e,i,n,s),t(n[i],o,s)})}(e,o,l):function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=s.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var e=r(t);if(null===e)return!0;var o=i.call(e,"constructor")&&e.constructor;return"function"==typeof o&&o instanceof o&&a.call(o)==n}(e)&&function(e,o,a){for(const i in e){const n=a?`${a}.${i}`:i;o.call(e,e[i],i,e,n),t(e[i],o,n)}}(e,o,l)}(t,function(t,a,i,n){t===e&&(o=n)}),o}(o,m)||l;return d.emit(_,{prop:l,path:_,oldValue:u,value:b}),!0}}}(m))}function p(t){return Array.isArray(t)||"[object Object]"===Object.prototype.toString.call(t)}function f(t,e){if(this[t]instanceof Date){var o=this[t].getTime();return o?{__isDate:!0,ms:o}:void 0}return e}function g(t,e){return p(e)&&e.__isDate?new Date(e.ms):e}let b;u.on=function(t,e){d.on(t,function(t){e(t.value)})},b||(b=u("polite-email-popup")),window.persistentGlobals=b;var _={};function v(){return y("modal")}function h(){return y("bottom-bar")}function y(t){let e="modal"===t?b.modalClosedDate:b.bottomBarClosedDate;if(e)return{days:Math.floor((Date.now()-e)/864e5)}}const E={pageViews:{content:{notAggressive:0,aggressive:0},marketing:{notAggressive:2,aggressive:1}},activeTimeOnPage:{content:{notAggressive:6,aggressive:4},marketing:{notAggressive:6,aggressive:4}},activeTimeOnSite:{content:{notAggressive:21,aggressive:14},marketing:{notAggressive:21,aggressive:14}},highestScrollPercentageAcrossAllPages:{content:{notAggressive:35,aggressive:25},marketing:{notAggressive:35,aggressive:25}}},x={pageViews:{content:{notAggressive:0,aggressive:0},marketing:{notAggressive:0,aggressive:0}},activeTimeOnPage:{content:{notAggressive:0,aggressive:0},marketing:{notAggressive:0,aggressive:0}},activeTimeOnSite:{content:{notAggressive:10,aggressive:7},marketing:{notAggressive:10,aggressive:7}},highestScrollPercentageAcrossAllPages:{content:{notAggressive:25,aggressive:20},marketing:{notAggressive:25,aggressive:20}}};function O(){let[t,e,o]=function(){let[t,e]=function(){let t=_.websiteType,e=_.beSlightlyMoreAggressive?"aggressive":"notAggressive";return[{pageViews:E.pageViews[t][e],activeTimeOnPage:E.activeTimeOnPage[t][e],activeTimeOnSite:E.activeTimeOnSite[t][e],highestScrollPercentageAcrossAllPages:E.highestScrollPercentageAcrossAllPages[t][e]},{pageViews:b.pageViews,activeTimeOnPage:b.activeTimeOnPage,activeTimeOnSite:b.activeTimeOnSite,highestScrollPercentageAcrossAllPages:b.highestScrollPercentageAcrossAllPages}]}(),o=Object.keys(t).every(o=>e[o]>=t[o]),a=v();return a&&(o=o&&a.days>=2),_.isModalOpen&&(o=!1),[o,t,e]}(),[a,i,n]=function(){let[t,e]=function(){let t=_.websiteType,e=_.beSlightlyMoreAggressive?"aggressive":"notAggressive";return[{pageViews:x.pageViews[t][e],activeTimeOnPage:x.activeTimeOnPage[t][e],activeTimeOnSite:x.activeTimeOnSite[t][e],highestScrollPercentageAcrossAllPages:x.highestScrollPercentageAcrossAllPages[t][e]},{pageViews:b.pageViews,activeTimeOnPage:b.activeTimeOnPage,activeTimeOnSite:b.activeTimeOnSite,highestScrollPercentageAcrossAllPages:b.highestScrollPercentageAcrossAllPages}]}(),o=Object.keys(t).every(o=>e[o]>=t[o]),a=h();return a&&(o=o&&a.days>=2),[o,t,e]}();_.isModalOpenable=!!t,a&&(_.BOTTOM_BAR_ELEM.classList.add("show"),document.body.classList.add(_.BODY_CLASS_BOTTOM_BAR_OPEN)),_.showDebugNotice&&function({modalRequirements:t,modalActualValues:e,modalMeetsRequirements:o,bottomBarRequirements:a,bottomBarActualValues:i,bottomBarMeetsRequirements:n}){_.DEBUG_NOTICE_ELEM.innerHTML=function({modalRequirements:t,modalActualValues:e,modalMeetsRequirements:o,bottomBarRequirements:a,bottomBarMeetsRequirements:i}){let n=v(),s=h();return`<div class="debug-email-forms">\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Website type: </span>\n    <span class="debug-email-forms__stat-value">${_.websiteType.charAt(0).toUpperCase()+_.websiteType.slice(1)} website</span>\n  </div>\n  <div class="debug-email-forms__stat debug-email-forms__stat--buttons">\n    <button class="debug-email-forms__reset" type="button">Reset data</button>\n    <button class="debug-email-forms__bypass" type="button">Bypass requirements</button>\n  </div>\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Page views: </span>\n    <span class="debug-email-forms__stat-value">${e.pageViews}</span>\n    <ul class="debug-email-forms__stat-requirements">\n      <li class="debug-email-forms__stat-requirement">Modal requires: ${t.pageViews}</li>\n      <li class="debug-email-forms__stat-requirement">Bottom bar requires: ${a.pageViews}</li>\n    </ul>\n  </div>\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Highest scroll percentage: </span>\n    <span class="debug-email-forms__stat-value">${e.highestScrollPercentageAcrossAllPages}% </span>\n    <ul class="debug-email-forms__stat-requirements">\n      <li class="debug-email-forms__stat-requirement">Modal requires: ${t.highestScrollPercentageAcrossAllPages}%</li>\n      <li class="debug-email-forms__stat-requirement">Bottom bar requires: ${a.highestScrollPercentageAcrossAllPages}%</li>\n    </ul>\n  </div>\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Active time on site: </span>\n    <span class="debug-email-forms__stat-value">${e.activeTimeOnSite}s </span>\n    <ul class="debug-email-forms__stat-requirements">\n      <li class="debug-email-forms__stat-requirement">Modal requires: ${t.activeTimeOnSite}s</li>\n      <li class="debug-email-forms__stat-requirement">Bottom bar requires: ${a.activeTimeOnSite}s</li>\n    </ul>\n  </div>\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Active time on page: </span>\n    <span class="debug-email-forms__stat-value">${e.activeTimeOnPage}s </span>\n    <ul class="debug-email-forms__stat-requirements">\n      <li class="debug-email-forms__stat-requirement">Modal requires: ${t.activeTimeOnPage}s</li>\n      <li class="debug-email-forms__stat-requirement">Bottom bar requires: ${a.activeTimeOnPage}s</li>\n    </ul>\n  </div>\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Modal was closed: </span>\n    <span class="debug-email-forms__stat-value">${n?n.days+` day${1!==n.days?"s":""} ago`:"never"}</span>\n    <ul class="debug-email-forms__stat-requirements">\n      <li class="debug-email-forms__stat-requirement">Requires: never or 2 days ago</li>\n    </ul>\n  </div>\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Bottom bar was closed: </span>\n    <span class="debug-email-forms__stat-value">${s?s.days+` day${1!==s.days?"s":""} ago`:"never"}</span>\n    <ul class="debug-email-forms__stat-requirements">\n      <li class="debug-email-forms__stat-requirement">Requires: never or 2 days ago</li>\n    </ul>\n  </div>\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Modal is openable: </span>\n    ${o?'<span class="debug-email-forms__stat-value debug-email-forms__stat-value--success">Yes</span>':'<span class="debug-email-forms__stat-value debug-email-forms__stat-value--fail">No</span>'}\n  </div>\n  <div class="debug-email-forms__stat">\n    <span class="debug-email-forms__stat-label">Bottom bar is open: </span>\n    ${i?'<span class="debug-email-forms__stat-value debug-email-forms__stat-value--success">Yes</span>':'<span class="debug-email-forms__stat-value debug-email-forms__stat-value--fail">No</span>'}\n  </div>\n</div>`}({modalRequirements:t,modalActualValues:e,modalMeetsRequirements:o,bottomBarRequirements:a,bottomBarActualValues:i,bottomBarMeetsRequirements:n})}({modalRequirements:e,modalActualValues:o,modalMeetsRequirements:t,bottomBarRequirements:i,bottomBarActualValues:n,bottomBarMeetsRequirements:a})}let w={};function T(t){return w[t]||document.querySelector(t)}function L(t){return"number"==typeof t&&!Number.isNaN(t)}function A(t){document.body.insertAdjacentHTML("beforeend",t)}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var S,M=function(){return(M=Object.assign||function(t){for(var e,o=1,a=arguments.length;o<a;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},k=function(){function t(t){this.options=t,this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]=(this.listeners[t]||[]).concat([e])},t.prototype.triggerEvent=function(t,e){var o=this;(this.listeners[t]||[]).forEach(function(t){return t({target:o,event:e})})},t}();!function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove"}(S||(S={}));var C,N=function(){function t(){this.notifications=[]}return t.prototype.push=function(t){this.notifications.push(t),this.updateFn(t,S.Add,this.notifications)},t.prototype.splice=function(t,e){var o=this.notifications.splice(t,e)[0];return this.updateFn(o,S.Remove,this.notifications),o},t.prototype.indexOf=function(t){return this.notifications.indexOf(t)},t.prototype.onUpdate=function(t){this.updateFn=t},t}();!function(t){t.Dismiss="dismiss",t.Click="click"}(C||(C={}));var B={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},P=function(){function t(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var t=document.createDocumentFragment(),e=this._createHTLMElement({tagName:"div",className:"notyf"});t.appendChild(e),document.body.appendChild(t),this.container=e,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return t.prototype.on=function(t,e){var o;this.events=M(M({},this.events),((o={})[t]=e,o))},t.prototype.update=function(t,e){e===S.Add?this.addNotification(t):e===S.Remove&&this.removeNotification(t)},t.prototype.removeNotification=function(t){var e,o,a=this,i=this._popRenderedNotification(t);i&&((e=i.node).classList.add("notyf__toast--disappear"),e.addEventListener(this.animationEndEventName,o=function(t){t.target===e&&(e.removeEventListener(a.animationEndEventName,o),a.container.removeChild(e))}))},t.prototype.addNotification=function(t){var e=this._renderNotification(t);this.notifications.push({notification:t,node:e}),this._announce(t.options.message||"Notification")},t.prototype._renderNotification=function(t){var e,o=this._buildNotificationCard(t),a=t.options.className;return a&&(e=o.classList).add.apply(e,a.split(" ")),this.container.appendChild(o),o},t.prototype._popRenderedNotification=function(t){for(var e=-1,o=0;o<this.notifications.length&&e<0;o++)this.notifications[o].notification===t&&(e=o);if(-1!==e)return this.notifications.splice(e,1)[0]},t.prototype.getXPosition=function(t){var e;return(null===(e=null==t?void 0:t.position)||void 0===e?void 0:e.x)||"right"},t.prototype.getYPosition=function(t){var e;return(null===(e=null==t?void 0:t.position)||void 0===e?void 0:e.y)||"bottom"},t.prototype.adjustContainerAlignment=function(t){var e=this.X_POSITION_FLEX_MAP[this.getXPosition(t)],o=this.Y_POSITION_FLEX_MAP[this.getYPosition(t)],a=this.container.style;a.setProperty("justify-content",o),a.setProperty("align-items",e)},t.prototype._buildNotificationCard=function(t){var e,o=this,a=t.options,i=a.icon;this.adjustContainerAlignment(a);var n=this._createHTLMElement({tagName:"div",className:"notyf__toast"}),s=this._createHTLMElement({tagName:"div",className:"notyf__ripple"}),r=this._createHTLMElement({tagName:"div",className:"notyf__wrapper"}),l=this._createHTLMElement({tagName:"div",className:"notyf__message"});l.innerHTML=a.message||"";var m=a.background||a.backgroundColor;if(i&&"object"==typeof i){var c=this._createHTLMElement({tagName:"div",className:"notyf__icon"}),d=this._createHTLMElement({tagName:i.tagName||"i",className:i.className,text:i.text}),u=null!==(e=i.color)&&void 0!==e?e:m;u&&(d.style.color=u),c.appendChild(d),r.appendChild(c)}if(r.appendChild(l),n.appendChild(r),m&&(a.ripple?(s.style.background=m,n.appendChild(s)):n.style.background=m),a.dismissible){var p=this._createHTLMElement({tagName:"div",className:"notyf__dismiss"}),f=this._createHTLMElement({tagName:"button",className:"notyf__dismiss-btn"});p.appendChild(f),r.appendChild(p),n.classList.add("notyf__toast--dismissible"),f.addEventListener("click",function(e){var a,i;null===(i=(a=o.events)[C.Dismiss])||void 0===i||i.call(a,{target:t,event:e}),e.stopPropagation()})}n.addEventListener("click",function(e){var a,i;return null===(i=(a=o.events)[C.Click])||void 0===i?void 0:i.call(a,{target:t,event:e})});var g="top"===this.getYPosition(a)?"upper":"lower";return n.classList.add("notyf__toast--"+g),n},t.prototype._createHTLMElement=function(t){var e=t.className,o=t.text,a=document.createElement(t.tagName);return e&&(a.className=e),a.textContent=o||null,a},t.prototype._createA11yContainer=function(){var t=this._createHTLMElement({tagName:"div",className:"notyf-announcer"});t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),t.style.border="0",t.style.clip="rect(0 0 0 0)",t.style.height="1px",t.style.margin="-1px",t.style.overflow="hidden",t.style.padding="0",t.style.position="absolute",t.style.width="1px",t.style.outline="0",document.body.appendChild(t),this.a11yContainer=t},t.prototype._announce=function(t){var e=this;this.a11yContainer.textContent="",setTimeout(function(){e.a11yContainer.textContent=t},100)},t.prototype._getAnimationEndEventName=function(){var t,e=document.createElement("_fake"),o={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"};for(t in o)if(void 0!==e.style[t])return o[t];return"animationend"},t}();let R=new(function(){function t(t){var e=this;this.dismiss=this._removeNotification,this.notifications=new N,this.view=new P;var o=this.registerTypes(t);this.options=M(M({},B),t),this.options.types=o,this.notifications.onUpdate(function(t,o){return e.view.update(t,o)}),this.view.on(C.Dismiss,function(t){var o=t.target,a=t.event;e._removeNotification(o),o.triggerEvent(C.Dismiss,a)}),this.view.on(C.Click,function(t){return t.target.triggerEvent(C.Click,t.event)})}return t.prototype.error=function(t){var e=this.normalizeOptions("error",t);return this.open(e)},t.prototype.success=function(t){var e=this.normalizeOptions("success",t);return this.open(e)},t.prototype.open=function(t){var e=this.options.types.find(function(e){return e.type===t.type})||{},o=M(M({},e),t);this.assignProps(["ripple","position","dismissible"],o);var a=new k(o);return this._pushNotification(a),a},t.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},t.prototype.assignProps=function(t,e){var o=this;t.forEach(function(t){e[t]=null==e[t]?o.options[t]:e[t]})},t.prototype._pushNotification=function(t){var e=this;this.notifications.push(t);var o=void 0!==t.options.duration?t.options.duration:this.options.duration;o&&setTimeout(function(){return e._removeNotification(t)},o)},t.prototype._removeNotification=function(t){var e=this.notifications.indexOf(t);-1!==e&&this.notifications.splice(e,1)},t.prototype.normalizeOptions=function(t,e){var o={type:t};return"string"==typeof e?o.message=e:"object"==typeof e&&(o=M(M({},o),e)),o},t.prototype.registerTypes=function(t){var e=(t&&t.types||[]).slice();return B.types.map(function(t){var o=-1;e.forEach(function(e,a){e.type===t.type&&(o=a)});var a=-1!==o?e.splice(o,1)[0]:{};return M(M({},t),a)}).concat(e)},t}())({duration:5e3,position:{x:"center",y:"top"},dismissible:!0});function D(t){R.success(t)}function q(){b.bottomBarClosedDate=Date.now(),_.BOTTOM_BAR_ELEM.classList.remove("show"),document.body.classList.remove(_.BODY_CLASS_BOTTOM_BAR_OPEN)}function Y(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}var j=!1;if("undefined"!=typeof window){var F={get passive(){j=!0}};window.addEventListener("testPassive",null,F),window.removeEventListener("testPassive",null,F)}var U="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),$=[],I=!1,z=-1,H=void 0,V=void 0,X=function(t){return $.some(function(e){return!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))})},G=function(t){var e=t||window.event;return!!X(e.target)||e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1)};function J(){b.modalClosedDate=Date.now(),_.MODAL_ELEM.classList.remove("show"),document.body.classList.remove(_.BODY_CLASS_MODAL_OPEN),document.querySelectorAll(_.FOCUSABLE_SELECTORS).forEach(t=>t.removeAttribute("tabindex")),document.querySelectorAll("body > [aria-hidden]").forEach(t=>t.removeAttribute("aria-hidden")),_.MODAL_ELEM.setAttribute("aria-hidden","true"),_.activeElement&&_.activeElement.focus(),function(t){if(U){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,$=$.filter(function(e){return e.targetElement!==t}),I&&0===$.length&&(document.removeEventListener("touchmove",G,j?{passive:!1}:void 0),I=!1)}else($=$.filter(function(e){return e.targetElement!==t})).length||setTimeout(function(){void 0!==V&&(document.body.style.paddingRight=V,V=void 0),void 0!==H&&(document.body.style.overflow=H,H=void 0)})}(_.MODAL_ELEM),_.isModalOpen=!1,O()}function W(t){if(t.preventDefault(),t.currentTarget.closest(".bottom-bar")?q():t.currentTarget.closest(".email-modal")&&J(),""!==t.currentTarget.querySelector(".js-validate-not-robot").value)return;let e=t.currentTarget.querySelector(_.SELECTORS.BOTTOM_BAR_FORM_INPUT_ELEM_SELECTOR).value,{spamPreventionKey:o,formAction:a}=_.mailchimpConfig;o&&a?function({event:t,email:e,spamPreventionKey:o,formAction:a}){let i=(a||"").replace("/post?","/post-json?"),n="",s=t.currentTarget.querySelectorAll("input");for(let t=0;t<s.length;t++)n+="&"+s[t].name+"="+encodeURIComponent(s[t].value);n+="&"+o+"=";let r=document.createElement("script");r.src=i+n+"&c=mailchimpCallback",document.body.appendChild(r),window.mailchimpCallback=function(o){delete window.mailchimpCallback,document.body.removeChild(r),_.showFormSubmissionNotices&&("success"===o.result?D(_.successMessage):R.error(_.failureMessage)),_.onSubmit("success"===o.result?{event:t,email:e,success:!0}:{event:t,email:e,success:!1})}}({event:t,email:e,spamPreventionKey:o,formAction:a}):(_.showFormSubmissionNotices&&D(),_.onSubmit({event:t,email:e}))}function K(t){27===t.keyCode&&document.body.classList.contains(_.BODY_CLASS_MODAL_OPEN)&&J()}function Q(t){t.target.closest(_.SELECTORS.MODAL_FORM_ELEM_SELECTOR)||J()}function Z(t){var e;e=()=>{var e;!function(t){const e={showDebugNotice:!1,websiteType:"content",beSlightlyMoreAggressive:!1,onSubmit:()=>{},imageSrc:"",headingText:"Sign up for updates",descriptionText:"Get cutting edge articles and insights into our process",mainButtonText:"Sign up",closeButtonText:"Close",showFormSubmissionNotices:!0,successMessage:"Thank you signing up!",failureMessage:"Sorry, sign up failed...",mailchimpConfig:{},SELECTORS:{MODAL_ELEM_SELECTOR:".email-modal",MODAL_FORM_ELEM_SELECTOR:".email-modal__content",MODAL_FORM_INPUT_ELEM_SELECTOR:".email-signup-form-input",MODAL_CLOSE_BUTTON_ELEM_SELECTOR:".email-modal__close",BOTTOM_BAR_ELEM_SELECTOR:".bottom-bar",BOTTOM_BAR_FORM_INPUT_ELEM_SELECTOR:".email-signup-form-input",BOTTOM_BAR_FORM_ELEM_SELECTOR:"form.bottom-bar__content",BOTTOM_BAR_CLOSE_BUTTON_ELEM_SELECTOR:".bottom-bar__close",DEBUG_ELEM:".polite-email-popup__debug-notice",DEBUG_ELEM_RESET_SELECTOR:".debug-email-forms__reset",DEBUG_ELEM_BYPASS_SELECTOR:".debug-email-forms__bypass"},IS_MOBILE:window.matchMedia("only screen and (max-width: 780px)").matches,FOCUSABLE_SELECTORS:"a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex]",BODY_CLASS_MODAL_OPEN:"email-modal-is-open",BODY_CLASS_BOTTOM_BAR_OPEN:"email-bottom-bar-is-open",isModalOpenable:!1,isModalOpen:!1};Object.assign(_,e,t),window.temporaryGlobals=_}(t),A("<style>@-webkit-keyframes notyf-fadeinup{0%{opacity:0;transform:translateY(25%)}to{opacity:1;transform:translateY(0)}}@keyframes notyf-fadeinup{0%{opacity:0;transform:translateY(25%)}to{opacity:1;transform:translateY(0)}}@-webkit-keyframes notyf-fadeinleft{0%{opacity:0;transform:translateX(25%)}to{opacity:1;transform:translateX(0)}}@keyframes notyf-fadeinleft{0%{opacity:0;transform:translateX(25%)}to{opacity:1;transform:translateX(0)}}@-webkit-keyframes notyf-fadeoutright{0%{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(25%)}}@keyframes notyf-fadeoutright{0%{opacity:1;transform:translateX(0)}to{opacity:0;transform:translateX(25%)}}@-webkit-keyframes notyf-fadeoutdown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(25%)}}@keyframes notyf-fadeoutdown{0%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(25%)}}@-webkit-keyframes ripple{0%{transform:scale(0) translateY(-45%) translateX(13%)}to{transform:scale(1) translateY(-45%) translateX(13%)}}@keyframes ripple{0%{transform:scale(0) translateY(-45%) translateX(13%)}to{transform:scale(1) translateY(-45%) translateX(13%)}}.notyf{position:fixed;top:0;left:0;height:100%;width:100%;color:#fff;z-index:9999;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;pointer-events:none;box-sizing:border-box;padding:20px;font-size:16px}.notyf__icon--error,.notyf__icon--success{height:21px;width:21px;background:#fff;border-radius:50%;display:block;margin:0 auto;position:relative}.notyf__icon--error:after,.notyf__icon--error:before{content:\"\";background:currentColor;display:block;position:absolute;width:3px;border-radius:3px;left:9px;height:12px;top:5px}.notyf__icon--error:after{transform:rotate(-45deg)}.notyf__icon--error:before{transform:rotate(45deg)}.notyf__icon--success:after,.notyf__icon--success:before{content:\"\";background:currentColor;display:block;position:absolute;width:3px;border-radius:3px}.notyf__icon--success:after{height:6px;transform:rotate(-45deg);top:9px;left:6px}.notyf__icon--success:before{height:11px;transform:rotate(45deg);top:5px;left:10px}.notyf__toast{display:block;overflow:hidden;pointer-events:auto;-webkit-animation:notyf-fadeinup .3s ease-in forwards;animation:notyf-fadeinup .3s ease-in forwards;box-shadow:0 3px 7px 0 rgba(0,0,0,.25);position:relative;padding:0 15px;border-radius:2px;max-width:300px;transform:translateY(25%);box-sizing:border-box;flex-shrink:0}.notyf__toast--disappear{transform:translateY(0);-webkit-animation:notyf-fadeoutdown .3s forwards;animation:notyf-fadeoutdown .3s forwards;-webkit-animation-delay:.25s;animation-delay:.25s}.notyf__toast--disappear .notyf__icon,.notyf__toast--disappear .notyf__message{-webkit-animation:notyf-fadeoutdown .3s forwards;animation:notyf-fadeoutdown .3s forwards;opacity:1;transform:translateY(0)}.notyf__toast--disappear .notyf__dismiss{-webkit-animation:notyf-fadeoutright .3s forwards;animation:notyf-fadeoutright .3s forwards;opacity:1;transform:translateX(0)}.notyf__toast--disappear .notyf__message{-webkit-animation-delay:50ms;animation-delay:50ms}.notyf__toast--upper{margin-bottom:20px}.notyf__toast--lower{margin-top:20px}.notyf__toast--dismissible .notyf__wrapper{padding-right:30px}.notyf__ripple{height:400px;width:400px;position:absolute;transform-origin:bottom right;right:0;top:0;border-radius:50%;transform:scale(0) translateY(-51%) translateX(13%);z-index:5;-webkit-animation:ripple .4s ease-out forwards;animation:ripple .4s ease-out forwards}.notyf__wrapper{display:flex;align-items:center;padding-top:17px;padding-bottom:17px;padding-right:15px;border-radius:3px;position:relative;z-index:10}.notyf__icon{width:22px;text-align:center;font-size:1.3em;opacity:0;-webkit-animation:notyf-fadeinup .3s forwards;animation:notyf-fadeinup .3s forwards;-webkit-animation-delay:.3s;animation-delay:.3s;margin-right:13px}.notyf__dismiss{position:absolute;top:0;right:0;height:100%;width:26px;margin-right:-15px;-webkit-animation:notyf-fadeinleft .3s forwards;animation:notyf-fadeinleft .3s forwards;-webkit-animation-delay:.35s;animation-delay:.35s;opacity:0}.notyf__dismiss-btn{background-color:rgba(0,0,0,.25);border:none;cursor:pointer;transition:opacity .2s ease,background-color .2s ease;outline:0;opacity:.35;height:100%;width:100%}.notyf__dismiss-btn:after,.notyf__dismiss-btn:before{content:\"\";background:#fff;height:12px;width:2px;border-radius:3px;position:absolute;left:calc(50% - 1px);top:calc(50% - 5px)}.notyf__dismiss-btn:after{transform:rotate(-45deg)}.notyf__dismiss-btn:before{transform:rotate(45deg)}.notyf__dismiss-btn:hover{opacity:.7;background-color:rgba(0,0,0,.15)}.notyf__dismiss-btn:active{opacity:.8}.notyf__message{vertical-align:middle;position:relative;opacity:0;-webkit-animation:notyf-fadeinup .3s forwards;animation:notyf-fadeinup .3s forwards;-webkit-animation-delay:.25s;animation-delay:.25s;line-height:1.5em}@media only screen and (max-width:480px){.notyf{padding:0}.notyf__ripple{height:600px;width:600px;-webkit-animation-duration:.5s;animation-duration:.5s}.notyf__toast{max-width:none;border-radius:0;box-shadow:0 -2px 7px 0 rgba(0,0,0,.13);width:100%}.notyf__dismiss{width:56px}}.bottom-bar,.email-modal{display:none;line-height:1.4;font-size:16px;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.bottom-bar.show,.email-modal.show{display:flex}.bottom-bar,.bottom-bar *,.email-modal,.email-modal *{box-sizing:border-box;margin:0;padding:0;color:#212529}.bottom-bar button,.email-modal button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:0 0;color:inherit;font:inherit;line-height:normal;cursor:pointer;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}.bottom-bar button::-moz-focus-inner,.email-modal button::-moz-focus-inner{border:0;padding:0}.bottom-bar .bottom-bar__close,.bottom-bar .bottom-bar__sign-up,.email-modal .email-modal__sign-up{padding:9px 22px 11px;font-size:17px;font-weight:700;letter-spacing:.5px;color:#fff;background-color:#4263eb;border-radius:1px}.bottom-bar .bottom-bar__sign-up:hover,.email-modal .email-modal__sign-up:hover{background-color:#364fc7}@media (min-width:780px){.bottom-bar .hide-desktop,.email-modal .hide-desktop{display:none!important}}@media (max-width:779.9999px){.bottom-bar .hide-mobile,.email-modal .hide-mobile{display:none!important}}.email-modal{z-index:100;flex-direction:column;align-items:center;justify-content:center;position:fixed;top:0;left:0;right:0;bottom:0;line-height:1.4;font-size:16px;background-color:rgba(0,0,0,.6)}.email-modal .email-modal__content{transform:translate(0,1000px);transition:transform .4s;position:relative;width:480px;max-width:calc(100vw - 3rem);padding:35px 32px 33px 32px;background-color:#fff;border-radius:5px;box-shadow:0 2px 8px 0 rgba(0,0,0,.24)}.email-modal-is-open .email-modal .email-modal__content{transform:translate(0,0)}.email-modal .email-modal__top{display:flex;margin-bottom:1.75rem}.email-modal .email-modal__top-media{width:108px;margin-right:22px}.email-modal .email-modal__top-image{box-sizing:content-box;display:block;max-width:100%;border:1px solid #dee2e6;border-radius:5px}.email-modal .email-modal__title{font-size:22px;font-weight:700;margin-bottom:.25rem}.email-modal .email-modal__description{font-size:18px;color:#757575}.email-modal .email-modal__input-container{margin-bottom:1.75rem}.email-modal .email-modal__input{display:block;width:100%;padding:9px 15px 10px;border:1px solid #dee2e6;font-size:16px;font-family:inherit}.email-modal .email-modal__button-container{text-align:center}.email-modal .email-modal__close{position:absolute;top:14px;right:13px;width:33px;height:33px}.email-modal .email-modal__close:hover::after,.email-modal .email-modal__close:hover::before{background-color:#b1bac4}.email-modal .email-modal__close::before{transform:rotate(45deg);position:absolute;top:0;left:0;bottom:0;right:0;width:5px;height:33px;margin:auto;content:\"\";background-color:#ced4da;border-radius:2px}.email-modal .email-modal__close::after{transform:rotate(-45deg);position:absolute;top:0;left:0;bottom:0;right:0;width:5px;height:33px;margin:auto;content:\"\";background-color:#ced4da;border-radius:2px}@media (max-width:779.9999px){.email-modal .email-modal__top{display:block}.email-modal .email-modal__top-media{width:75px;margin:0 auto 1.75rem auto}.email-modal .email-modal__top-content{text-align:center}}.bottom-bar{z-index:99;position:fixed;left:0;bottom:0;justify-content:center;width:100%;border-top:1px solid #adb5bd;background-color:#f1f3f5}.bottom-bar .bottom-bar__content{display:flex;padding:10px 0 11px 0}.bottom-bar .bottom-bar__label{display:flex;align-items:center}.bottom-bar .bottom-bar__label-text{margin-top:-1px;margin-right:12px;font-weight:600;color:#343a40}.bottom-bar .bottom-bar__input{margin-right:11px;padding:6px 10px 7px;max-width:300px;width:31vw;border:1px solid #adb5bd;font-family:inherit;font-size:16px;border-radius:1px}.bottom-bar .bottom-bar__close,.bottom-bar .bottom-bar__sign-up{padding:7px 19px 9px;font-size:15px;font-weight:600;border-radius:999px}.bottom-bar .bottom-bar__close-container{position:absolute;top:0;right:0;padding:10px 16px 10px 0}.bottom-bar .bottom-bar__close{background-color:#ced4da;color:#495057}.bottom-bar .bottom-bar__close:hover{background-color:#adb5bd;color:#343a40}.bottom-bar .bottom-bar__close-x-icon{display:block;width:3px;height:20px;background-color:#868e96;transform:rotate(45deg)}.bottom-bar .bottom-bar__close-x-icon>span{display:block;width:3px;height:20px;background-color:#868e96;transform:rotate(-90deg)}@media (max-width:779.9999px){.bottom-bar.show{display:block}.bottom-bar .bottom-bar__content{align-items:flex-end;padding:15px 21px 21px 22px}.bottom-bar .bottom-bar__label{flex:1 0 auto;display:block}.bottom-bar .bottom-bar__label-text{display:block;margin:0 0 12px 0}.bottom-bar .bottom-bar__input{width:100%;max-width:calc(100% - 16px)}.bottom-bar .bottom-bar__close-container{padding:0;transform:translate(0,-100%)}.bottom-bar .bottom-bar__close{padding:7px 17px 7px;border-radius:2px 0 0 0}}.debug-email-forms{display:flex;flex-wrap:wrap;position:fixed;top:18px;right:24px;max-width:600px;padding:16px 21px;font-size:16px;line-height:1.4;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Fira Sans','Droid Sans','Helvetica Neue',sans-serif;color:#343a40;background-color:#fff;box-shadow:1px 3px 6px rgba(0,0,0,.25);border-radius:5px}.debug-email-forms .debug-email-forms__stat{width:50%;flex:1 0 auto;margin-bottom:12px}.debug-email-forms .debug-email-forms__stat--buttons{text-align:right}.debug-email-forms .debug-email-forms__reset{margin-right:8px}.debug-email-forms .debug-email-forms__stat-label{font-weight:700;color:#ae3ec9}.debug-email-forms .debug-email-forms__stat-value{white-space:nowrap;font-weight:700;color:#212529}.debug-email-forms .debug-email-forms__stat-requirements{margin:6px 0;padding-left:32px}.debug-email-forms .debug-email-forms__stat-requirement{color:#868e96}.debug-email-forms .debug-email-forms__stat-value--success{color:#2f9e44}.debug-email-forms .debug-email-forms__stat-value--fail{color:#e03131}</style>"),_.showDebugNotice&&A("<div class='polite-email-popup__debug-notice'></div>"),A(function({imageSrc:t,headingText:e,descriptionText:o,mainButtonText:a}){return`\n<div class="email-modal" role="dialog" aria-labelledby="email-modal-title" aria-describedby="email-modal-description" aria-hidden="true">\n  <form class="email-modal__content" method="POST" action="/">\n    <div class="email-modal__top">\n      ${t?`<div class="email-modal__top-media">\n        <img class="email-modal__top-image" src="${t}">\n      </div>`:""}\n      <div class="email-modal__top-content">\n        <h2 class="email-modal__title" id="email-modal-title">${e}</h2>\n        <p class="email-modal__description" id="email-modal-description">${o}</p>\n      </div>\n    </div>\n    <div class="email-modal__input-container">\n      <input class="email-modal__input email-signup-form-input" type="email" name="EMAIL" value="" placeholder="Your email address" required>\n      <div style="position: absolute; left: -5000px;" aria-hidden="true">\n        <input class="js-validate-not-robot" type="text" tabindex="-1" value="">\n      </div>\n    </div>\n    <div class="email-modal__button-container">\n      <button class="email-modal__sign-up" type="submit">${a}</button>\n    </div>\n    <button class="email-modal__close" type="button"></button>\n  </form>\n</div>\n`}(_)),A(function({headingText:t,mainButtonText:e,closeButtonText:o}){return`<div class="bottom-bar" aria-hidden="true">\n  <form class="bottom-bar__content" method="POST" action="/">\n    <label class="bottom-bar__label">\n      <span class="bottom-bar__label-text">${t}</span>\n      <input class="bottom-bar__input email-signup-form-input" type="email" name="EMAIL" value="" placeholder="Your email address" required>\n      <div style="position: absolute; left: -5000px;" aria-hidden="true">\n        <input class="js-validate-not-robot" type="text" tabindex="-1" value="">\n      </div>\n    </label>\n    <button class="bottom-bar__sign-up" type="submit">${e}</button>\n  </form>\n  <div class="bottom-bar__close-container">\n    <button class="bottom-bar__close" type="button">\n      <span class="hide-mobile">${o}</span>\n      <span class="bottom-bar__close-x-icon hide-desktop"><span></span></span>\n    </button>\n  </div>\n</div>`}(_)),function(){let{SELECTORS:t}=_;Object.assign(_,{MODAL_ELEM:T(t.MODAL_ELEM_SELECTOR),MODAL_FORM_ELEM:T(t.MODAL_FORM_ELEM_SELECTOR),MODAL_CLOSE_BUTTON_ELEM:T(t.MODAL_CLOSE_BUTTON_ELEM_SELECTOR),BOTTOM_BAR_ELEM:T(t.BOTTOM_BAR_ELEM_SELECTOR),BOTTOM_BAR_FORM_ELEM:T(t.BOTTOM_BAR_FORM_ELEM_SELECTOR),BOTTOM_BAR_CLOSE_BUTTON_ELEM:T(t.BOTTOM_BAR_CLOSE_BUTTON_ELEM_SELECTOR),DEBUG_NOTICE_ELEM:T(t.DEBUG_ELEM)})}(),u.on("*",O),L(b.pageViews)?b.pageViews++:b.pageViews=1,L(b.highestScrollPercentageAcrossAllPages)||(b.highestScrollPercentageAcrossAllPages=0),L(b.activeTimeOnSite)||(b.activeTimeOnSite=0),b.activeTimeOnPage=0,window.addEventListener("scroll",function(t,e){var o=!0,a=!1;return function(){var e=arguments;a||(a=!0,setTimeout(function(){t.apply(void 0,[].slice.call(e)),a=!1},o?0:1e3),o=!1)}}(function(){!function(){let t=function(){let t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),e=window.pageYOffset/(t-document.documentElement.clientHeight);return Math.floor(100*e)}();t>b.highestScrollPercentageAcrossAllPages&&(b.highestScrollPercentageAcrossAllPages=t)}(),b.activeTimeOnPage++,b.activeTimeOnSite++})),_.showDebugNotice&&document.addEventListener("click",t=>{if(t.target.closest(_.SELECTORS.DEBUG_ELEM_RESET_SELECTOR)&&(window.localStorage.clear(),window.location.reload()),t.target.closest(_.SELECTORS.DEBUG_ELEM_BYPASS_SELECTOR)){b.pageViews=100,b.activeTimeOnPage=100,b.activeTimeOnSite=100,b.highestScrollPercentageAcrossAllPages=100;let t=864e5;b.modalClosedDate=Date.now()-2*t,b.bottomBarClosedDate=Date.now()-2*t}}),e=()=>{_.isModalOpenable&&function(){_.activeElement=document.activeElement,_.MODAL_ELEM.classList.add("show"),document.body.classList.add(_.BODY_CLASS_MODAL_OPEN),_.MODAL_ELEM.querySelector(_.FOCUSABLE_SELECTORS).focus();const t=document.querySelectorAll(_.FOCUSABLE_SELECTORS),e=_.MODAL_ELEM.querySelectorAll(_.FOCUSABLE_SELECTORS),o=Array.from(e);t.forEach(t=>{o.includes(t)||t.setAttribute("tabindex","-1")}),_.MODAL_ELEM.removeAttribute("aria-hidden"),Array.from(document.body.children).forEach(t=>{t!==_.MODAL_ELEM&&t.setAttribute("aria-hidden","true")}),function(t,e){if(U){if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(t&&!$.some(function(e){return e.targetElement===t})){var o={targetElement:t,options:{}};$=[].concat(Y($),[o]),t.ontouchstart=function(t){1===t.targetTouches.length&&(z=t.targetTouches[0].clientY)},t.ontouchmove=function(e){1===e.targetTouches.length&&function(t,e){var o=t.targetTouches[0].clientY-z;!X(t.target)&&(e&&0===e.scrollTop&&o>0||function(t){return!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight}(e)&&o<0?G(t):t.stopPropagation())}(e,t)},I||(document.addEventListener("touchmove",G,j?{passive:!1}:void 0),I=!0)}}else{setTimeout(function(){void 0===V&&(window,document),void 0===H&&(H=document.body.style.overflow,document.body.style.overflow="hidden")});var a={targetElement:t,options:{}};$=[].concat(Y($),[a])}}(_.MODAL_ELEM),_.isModalOpen=!0,O()}()},document.addEventListener("mouseout",function(t){let o=t.clientY<20,a=null===t.relatedTarget,i="select"!==t.target.nodeName.toLowerCase()&&"input"!==t.target.nodeName.toLowerCase();o&&a&&i&&e&&e()}),_.MODAL_ELEM.addEventListener("click",Q),_.MODAL_FORM_ELEM.addEventListener("submit",W),_.MODAL_CLOSE_BUTTON_ELEM.addEventListener("click",J),document.addEventListener("keydown",K),_.BOTTOM_BAR_FORM_ELEM.addEventListener("submit",W),_.BOTTOM_BAR_CLOSE_BUTTON_ELEM.addEventListener("click",q)},"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}var tt={contentWebsite:function(t){t.websiteType="content",Z(t)},marketingWebsite:function(t){t.websiteType="marketing",Z(t)}};export default tt;
//# sourceMappingURL=polite-email-popup.modern.js.map
