var t={};function e(t){document.body.insertAdjacentHTML("beforeend",t)}var n={};function a(t){return n[t]||document.querySelector(t)}var o,i,r=Object.prototype,l=Function.prototype.toString,s=r.hasOwnProperty,c=l.call(Object),d=r.toString,u=(o=Object.getPrototypeOf,i=Object,function(t){return o(i(t))});function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function p(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return m(t,void 0);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function b(){this.callbacksLookup={}}b.prototype={emit:function(t,e){for(var n,a=this.callbacksLookup["*"]||[],o=p(this.callbacksLookup[t]||[]);!(n=o()).done;)(0,n.value)({name:t,value:e});for(var i,r=p(a);!(i=r()).done;)(0,i.value)({name:t,value:e})},on:function(t,e){for(var n,a=p(Array.isArray(t)?t:[t]);!(n=a()).done;){var o=n.value;this.callbacksLookup[o]||(this.callbacksLookup[o]=[]),this.callbacksLookup[o].push(e)}}};var _=new b;function v(t,e){void 0===e&&(e={}),t=t||"tigerlily";var n=e.defaults,a=void 0===n?{}:n,o=JSON.parse(localStorage.getItem(t)||"{}",g);return o=Object.assign(a,o),new Proxy(o,function e(n){return{get:function(t,a){return E(t[a])?new Proxy(t[a],e(n)):t[a]},set:function(e,a,o){e[a]=o,localStorage.setItem(t,JSON.stringify(n,f));var i=e[a],r=E(i)?JSON.parse(JSON.stringify(i,f),g):i,m=E(o)?JSON.parse(JSON.stringify(o,f),g):o,p=function(t,e){if(t===e)return"";var n="";return function t(e,n,a){a=a||"",Array.isArray(e)?function(e,n,a){e.forEach((e,o,i)=>{const r=`${a}[${o}]`;n.call(i,e,o,i,r),t(i[o],n,r)})}(e,n,a):function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=d.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t))return!1;var e=u(t);if(null===e)return!0;var n=s.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}(e)&&function(e,n,a){for(const o in e){const i=a?`${a}.${o}`:o;n.call(e,e[o],o,e,i),t(e[o],n,i)}}(e,n,a)}(t,function(t,a,o,i){t===e&&(n=i)}),n}(n,o)||a;return _.emit(p,{prop:a,path:p,oldValue:r,value:m}),!0}}}(o))}function E(t){return"object"==typeof t&&null!==t&&!(t instanceof Date)}function f(t,e){if(this[t]instanceof Date){var n=this[t].getTime();return n?{__isDate:!0,ms:n}:void 0}return e}function g(t,e){return e.__isDate?new Date(e.ms):e}if(v.on=function(t,e){_.on(t,function(t){e(t.value)})},v("polite-email-popup"),window.matchMedia("only screen and (max-width: 780px)"),"undefined"!=typeof window){var T={get passive(){}};window.addEventListener("testPassive",null,T),window.removeEventListener("testPassive",null,T)}function O(n){var o;o=function(){var o,i,r,l;o=n,i={showDebugNotice:!1,websiteType:"content",beSlightlyMoreAggressive:!1,onSubmit:function(){console.log("Event: Email form submitted")},imageSrc:"",headingText:"Sign up for updates",descriptionText:"Get cutting edge articles and insights into our process",mainButtonText:"Sign up",closeButtonText:"Close",SELECTORS:{MODAL_ELEM_SELECTOR:".email-modal",MODAL_FORM_ELEM_SELECTOR:".email-modal__content",MODAL_CLOSE_BUTTON_ELEM_SELECTOR:".email-modal__close",DEBUG_ELEM_RESET_SELECTOR:".debug-emails-forms__reset"},WEBSITE_TYPES:{CONTENT:"CONTENT",MARKETING:"MARKETING"},IS_MOBILE:window.matchMedia("only screen and (max-width: 780px)").matches,FOCUSABLE_SELECTORS:"a[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex]",BODY_CLASS_MODAL_OPEN:"email-modal-is-open",DEBUG_UNIT_PAGE_VIEWS:"",DEBUG_UNIT_HIGHEST_SCROLL_PERCENTAGE:"%",DEBUG_UNIT_ACTIVE_TIME_ON_SITE:"s",DEBUG_UNIT_ACTIVE_TIME_ON_PAGE:"s"},Object.assign(t,i,o),window.temporaryGlobals=t,t.showDebugNotice&&e('<div class="debug-emails-forms">\n    <div>\n      <b>Page views: </b><span data-event-name="pageViews">0</span>\n    </div>\n    <div>\n      <b>Scroll percentage: </b><span data-event-name="highestScrollPercentage">0%</span>\n    </div>\n    <div>\n      <b>Time on site: </b><span data-event-name="activeTimeOnSite">0s</span>\n    </div>\n    <div>\n      <b>Time on page: </b><span data-event-name="activeTimeOnPage">0s</span>\n    </div>\n    <div>\n      <b>Saw modal: </b><span>never</span>\n    </div>\n    <div>\n      <b>Closed modal: </b><span>never</span>\n    </div>\n    <div>\n      <b>Closed bottom bar: </b><span>never</span>\n    </div>\n    <div>\n      <b>Modal is openable: </b><span data-event-name="modalIsOpenable">false</span>\n    </div>\n    <button class="debug-emails-forms__reset" type="button">Reset</button>\n  </div>'),e('\n<div class="email-modal" role="dialog" aria-labelledby="email-modal-title" aria-describedby="email-modal-description" aria-hidden="true" style="display: none">\n  <form class="email-modal__content" method="POST" action="/">\n    <div class="email-modal__top">\n      <div class="email-modal__top-media">\n        <img class="email-modal__top-image" src="'+(r=t).imageSrc+'">\n      </div>\n      <div class="email-modal__top-content">\n        <h2 class="email-modal__title" id="email-modal-title">'+r.headingText+'</h2>\n        <p class="email-modal__description" id="email-modal-description">'+r.descriptionText+'</p>\n      </div>\n    </div>\n    <div class="email-modal__input-container">\n      <input class="email-modal__input email-signup-form-input" type="email" value="" placeholder="email@example.com">\n    </div>\n    <div class="email-modal__button-container">\n      <button class="email-modal__sign-up" type="submit">'+r.mainButtonText+'</button>\n    </div>\n    <button class="email-modal__close" type="button"></button>\n  </form>\n</div>\n'),e('<div class="bottom-bar">\n  <form class="bottom-bar__content" method="POST" action="/">\n    <label class="bottom-bar__label">\n      <span class="bottom-bar__label-text">'+t.headingText+'</span>\n      <input class="bottom-bar__input email-signup-form-input" type="email" value="" placeholder="you@example.com">\n    </label>\n    <button class="bottom-bar__sign-up" type="submit">'+t.mainButtonText+'</button>\n  </form>\n  <div class="bottom-bar__close-container">\n    <button class="bottom-bar__close" type="button">'+t.closeButtonText+"</button>\n  </div>\n</div>"),l=t.SELECTORS,Object.assign(t,{MODAL_ELEM:a(l.MODAL_ELEM_SELECTOR),MODAL_FORM_ELEM:a(l.MODAL_FORM_ELEM_SELECTOR),MODAL_CLOSE_BUTTON_ELEM:a(l.MODAL_CLOSE_BUTTON_ELEM_SELECTOR),DEBUG_RESET_ELEM:a(l.DEBUG_ELEM_RESET_SELECTOR)}),t.showDebugNotice&&t.DEBUG_RESET_ELEM.addEventListener("click",function(t){window.localStorage.clear(),window.location.reload()})},"loading"!=document.readyState?o():document.addEventListener("DOMContentLoaded",o)}"undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window);var S={contentWebsite:function(t){t.websiteType="CONTENT",O(t)},marketingWebsite:function(t){t.websiteType="MARKETING",O(t)}};export default S;
//# sourceMappingURL=polite-email-popup.module.js.map
